#1. Запросы, параметры, ответы сервиса

##1.1. Получение сущности пользователя из репозитория
Используется GET-запрос к ресурсу ```/user/<int:user_id>```, где user_id - целочисленное значение идентификатора пользователя

Пример запроса
```curl http://localhost:80/user/2```

**Возвращаемое значение**

```200```: пользователь найден в репозитории; в теле ответа json с сущностью пользователя

```404```: пользователь не найден или сбой обращения к репозиторию

Формат возвращаемого значения: ```{"id": user_id, "title": title}```

##1.2. Получение всех сущностей пользователей из репозитория

Используется GET-запрос к ресурсу ```/user```

Пример запроса
```curl http://localhost:80/user```

**Возвращаемое значение**

```200```: репозиторий не пустой; в теле ответа json с сущностями пользователей

```404```: репозиторий пустой или сбой обращения к репозиторию

Формат возвращаемого значения: 
```
[
    {"id": user_id1, "title": title1}, 
    {"id": user_id2, "title": title2}
]
```

##1.3. Добавление сущности пользователя в репозиторий

Используется POST-запрос к ресурсу ```/user/<int:user_id>?title=title```, где 

```user_id``` - целочисленное значение идентификатора пользователя,

```title``` - строковое значение ФИО пользователя (формат: URL-encoded)


Пример запроса
```curl -X POST http://localhost:80/user/3?title=Mikhail%20Vasilevich%20Lomonosov```

**Возвращаемое значение**

```204```: сущность не существует в репозитории; создаёт сущность

```422```: сущность уже существует в репозитории; не создаёт сущность

##Удаление сущности пользователя из репозитория

Используется DELETE-запрос к ресурсу ```/user/<int:user_id>```, где user_id - целочисленное значение идентификатора пользователя


Пример запроса
```curl -X DELETE http://localhost:80/user/3```

**Возвращаемое значение**

```204```: сущность существует в репозитории; удаляет сущность

```422```: сущность не существует в репозитории; нечего удалять

##Пример запроса на изменение сущности пользователя в репозиторий

Используется PATCH-запрос к ресурсу ```/user/<int:user_id>?title=title```, где 

```user_id``` - целочисленное значение идентификатора пользователя,

```title``` - строковое значение ФИО пользователя (формат: URL-encoded)

Пример запроса
```curl -X PATCH http://localhost:80/user/3?title=Aleksandr%20Sergeevich%20Pushkin```

**Возвращаемое значение**

```204```: сущность существует в репозитории; изменяет сущность в соответствии с полученными параметрами

```422```: сущность не существует в репозитории; не создаёт и не обновляет сущность

#Настройки

Настройки приложения хранятся в файле options.json. Используются следующие параметры:
```
repo_type: содержит имя класса, который будет создаваться этой фабрикой репозиториев. Возможные значения:
    RepositoryMySQL - хранит сущности в базе MySQL, все операции за О(log(n))
    RepositoryRAM - хранит сущности в оперативной памяти, большинство операций за O(n)
    RepositoryBytearray - хранит сущности в bytearray, большинство операций за О(1)
username: логин для доступа к базе
password: пароль для доступа к базе
```

Пример содержимого файла options.json
```
{
  "repo_type": "RepositoryMySQL",
  "username": "sampleusername",
  "password": "harf-to-brute-force-long-random-string"
}
```

#Требования приложения

Протестировано на mysql 8.0.26. На сервере My SQL требуется создание пользователя с именем и паролем, совпадающими с таковыми в файле options.txt 

##Используемые библиотеки

flask==2.0.1

mysql-connector-python==8.0.26

##Модули

/iqtek-rest-api/app.py - REST-API сервис, реализованный на Flask

/iqtek-rest-api/myfactory.py - Реализация шаблона фабрики

/iqtek-rest-api/myrepository.py - Реализация шаблона репозитория

/iqtek-rest-api/test/tests.py - Примеры тестов для проверки работоспособности сервиса
